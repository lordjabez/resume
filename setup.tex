% Set basic page settings
\usepackage[hmargin=15mm, vmargin=15mm]{geometry}
\usepackage{fancyhdr}
% Allow for custom font sizes
\usepackage{anyfontsize}

% Set up a custom accent color
\usepackage{color}
\definecolor{slate}{rgb}{0.18,0.24,0.32}

% Used to include a headshot
\usepackage{graphicx}
\graphicspath{ {./images/} }

% Required for specification of custom fonts
\usepackage{fontspec}
\setmainfont[
  Path = ./fonts/,
  Extension = .otf,
  BoldFont = Erewhon-Bold,
  ItalicFont = Erewhon-Italic,
  BoldItalicFont = Erewhon-BoldItalic,
  SmallCapsFeatures = {Letters = SmallCaps}
]{Erewhon-Regular}

% Allow creation of hyperlinks formatted to the accent color
\usepackage{hyperref}
\hypersetup{urlcolor=slate, colorlinks=true}
\urlstyle{same}

% Set section titles to use accent color
\usepackage{sectsty}
\sectionfont{\color{slate}}

% Suppress section numbering
\setcounter{secnumdepth}{0}

% Use plain pages with no numbering or headers/footers
\pagestyle{empty}

% Stop paragraph indentation
\setlength\parindent{0pt}

% Amount to indent detail sections
\newlength{\detailindent}
\setlength{\detailindent}{17mm}

% Text width for detail sections
\newlength{\detailwidth}
\setlength{\detailwidth}{\textwidth}
\addtolength{\detailwidth}{-1.05\detailindent}

% Non-indenting itemized list for job achievements
\newenvironment{achievements}
  {\setlength{\leftmargini}{4mm}\setlength{\baselineskip}{-1mm}\begin{itemize}}
  {\end{itemize}}


\newcommand{\header}[9] {
  \parbox{0.75\textwidth} {
    {\fontsize{40}{48}\color{slate}\textbf{\href{https://github.com/lordjabez/resume}{#1}} \hspace{1mm} (he/him)}
    \begin{tabbing}
      \hspace{60mm}        \= \kill
      \\
      #2                   \> \url{#6} \\
      #3                   \> \url{#7} \\
      #4                   \> \url{#8} \\
      #5                   \> \url{#9} \\
    \end{tabbing}
  }
  \parbox{0.24\textwidth} {
    \begin{flushright}
      \includegraphics[height=36mm]{headshot}
    \end{flushright}
  }
  \vspace{-1mm}
}


\newcommand{\project}[3] {
  \begin{tabbing}
    \hspace{\detailindent} \= \kill
    \textbf{#1} \> \textit{#2} \\
  \end{tabbing}
  \vspace{-4mm}
  \hspace{\detailindent}
  \begin{minipage}{\detailwidth}
    #3
  \end{minipage}
  \vspace{2mm}
}


\newcommand{\job}[5] {
  \begin{tabbing}
    \hspace{\detailindent} \= \kill
    \textbf{#2} \> #3 \\
    \hspace{3.33mm}\textbf{|}  \> \textit{#4} \\
    \textbf{#1} \> \\
  \end{tabbing}
  \vspace{-8mm}
  \hspace{\detailindent}
  \begin{minipage}{\detailwidth}
    #5
  \end{minipage}
  \vspace{2mm}
}


\newcommand{\skill}[2] {
  \begin{tabbing}
    \hspace{\detailindent} \= \kill
    \textbf{#1} \> #2 \\
  \end{tabbing}
  \vspace{-10mm}
}


\newcommand{\education}[3] {
  \begin{tabbing}
    \hspace{\detailindent} \= \kill
    \textbf{#1} \> #2, \textit{#3} \\
  \end{tabbing}
  \vspace{-10mm}
}


\newcommand{\credits} {
  \pagestyle{fancy}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}
  \cfoot {
    \footnotesize{\textit{Version \version. Built using LaTeX and Docker. Source code available at \url{https://github.com/lordjabez/resume}.}}
  }
}
